<fsmddescription>

  <statelist>
    <state>INITIALIZE</state>
    <state>CHECK_PASSWORD</state>
    <state>CHECK_KEYS</state>
    <state>LAUNCH</state>
  </statelist>

  <initialstate>INITIALIZE</initialstate>

  <inputlist>
    <input>KEY_1</input>
    <input>KEY_2</input>
	<input>GUESS_PASSWORD</input>
	
  </inputlist>

  <variablelist>
    <variable>HATCH_PASSWORD</variable>
	<variable>LAUNCH_PASSWORD</variable>
	<variable>GUESS_LAUNCH_PASSWORD</variable>
	<variable>GUESS_HATCH_PASSWORD</variable>
    <variable>KEY = 2</variable>
	<variable>KEY_COUNTDOWN</variable>
	<variable>LAUNCH_COUNTDWON</variable>
	<variable>HATCH_OPEN = 0</variable>
	<variable>LAUNCH_COUNT</variable>
	
  </variablelist>

  <operationlist>
    <operation>
      <name>init_A</name>
      <expression>var_A = in_A</expression>
    </operation>
    <operation>
      <name>init_B</name>
      <expression>var_B = in_B</expression>
    </operation>
    <operation>
      <name>A_minus_B</name>
      <expression>var_A = var_A - var_B</expression>
    </operation>
    <operation>
      <name>B_minus_A</name>
      <expression>var_B = var_B - var_A</expression>
    </operation>
    </operationlist>

  <conditionlist>
    <condition>
      <name>A_equal_B</name>
      <expression>var_A == var_B</expression>
    </condition>
    <condition>
      <name>A_greater_B</name>
      <expression>var_A &gt; var_B</expression>
    </condition>
    <condition>
      <name>B_greater_A</name>
      <expression>var_A &lt; var_B</expression>
    </condition>
  </conditionlist>

  <fsmd>
    <INITIALIZE>
      <transition>
        <condition>True</condition>
        <instruction>NOP</instruction>
        <nextstate>CHECK_PASSWORD</nextstate>
      </transition>
    </INITIALIZE>

    <CHECK_PASSWORD>
      <transition>
        <condition>guess_matches</condition>
        <instruction>NOP</instruction>
        <nextstate>CHECK_KEYS</nextstate>
      </transition>
      <transition>
        <condition>no_match</condition>
        <instruction>NOP</instruction>
        <nextstate>CHECK_PASSWORD</nextstate>
      </transition>
    </CHECK_PASSWORD>

    <CHECK_KEYS>
      <transition>
        <condition>awaiting_key_turn</condition>
        <instruction>Dec_key_timer</instruction>
        <nextstate>CHECK_KEYS</nextstate>
      </transition>
	  <transition>
        <condition>Key_time_over</condition>
        <instruction>NOP</instruction>
        <nextstate>CHECK_PASSWORD</nextstate>
      </transition>
      <transition>
        <condition>Keys_turned_in_time_hatch_closed</condition>
        <instruction>OPEN_HATCH</instruction>
        <nextstate>INITIALIZE</nextstate>
      </transition>
	  <transition>
        <condition>Keys_turned_in_time_hatch_open</condition>
        <instruction>NOP</instruction>
        <nextstate>LAUNCH</nextstate>
      </transition>
    </CHECK_KEYS>

    <LAUNCH>
      <transition>
        <condition>launch_timer_zero</condition>
        <instruction>LAUNCHCOUNT++,CLOSE_HATCH,LA</instruction>
        <nextstate>INITIALIZE</nextstate>
      </transition>
	  <transition>
        <condition>timer_not_zero</condition>
        <instruction>decrease_launch_timer</instruction>
        <nextstate>LAUNCH</nextstate>
      </transition>
    </LAUNCH>
  </fsmd>

</fsmddescription>
